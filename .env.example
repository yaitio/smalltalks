# Smalltalks Environment Variables
# Copy this file to .env.local for local development

# ============================================
# API Configuration
# ============================================

# Backend API base URL
# Development: http://localhost:3000
# Staging: https://api-staging.smalltalks.com
# Production: https://api.smalltalks.com
PUBLIC_API_URL=http://localhost:3000

# Smalltalks API base URL (for auth and sessions)
PUBLIC_API_BASE_URL=https://api.yait.io/v1/smalltalks

# ============================================
# Authentication
# ============================================

# Bypass authentication in development (true/false)
# Set to false in staging and production
AUTH_BYPASS=true

# Session timeout in milliseconds (default: 24 hours)
SESSION_TIMEOUT=86400000

# ============================================
# Monitoring & Analytics
# ============================================

# Sentry DSN for error monitoring
# Get from: https://sentry.io/settings/projects/
PUBLIC_SENTRY_DSN=https://...@...ingest.sentry.io/...

# Sentry environment (development/staging/production)
PUBLIC_SENTRY_ENVIRONMENT=development

# Analytics provider (posthog/mixpanel/none)
PUBLIC_ANALYTICS_PROVIDER=none

# PostHog API Key (if using PostHog)
PUBLIC_POSTHOG_KEY=

# PostHog Host (if using PostHog)
PUBLIC_POSTHOG_HOST=https://app.posthog.com

# ============================================
# Feature Flags
# ============================================

# Enable lesson progress sync to backend (true/false)
FEATURE_LESSON_SYNC=false

# Enable visual waveform (false for reduced motion fallback)
FEATURE_WAVEFORM=true

# Enable session recording in Sentry (true/false)
FEATURE_SESSION_REPLAY=false

# ============================================
# Design Export
# ============================================

# Figma personal access token (https://www.figma.com/developers/api#authentication)
# Required when running the design export scripts in /scripts
FIGMA_TOKEN=figd_your_token

# Figma file key containing the Smalltalks layouts
# Defaults to fxHwbtfo7cUmnGHS0lxK18
FIGMA_FILE_KEY=fxHwbtfo7cUmnGHS0lxK18

# ============================================
# Development
# ============================================

# Node environment (development/production)
NODE_ENV=development

# Enable debug logs (true/false)
DEBUG=false

# Mock WebRTC for testing (true/false)
MOCK_WEBRTC=false

# ============================================
# Build Configuration
# ============================================

# Base URL for the application
# Usually "/" unless hosting in a subdirectory
PUBLIC_BASE_URL=/

# CDN URL for static assets (optional)
PUBLIC_CDN_URL=

# ============================================
# Rate Limiting (Frontend Enforcement)
# ============================================

# Max magic link requests per 15 minutes
RATE_LIMIT_MAGIC_LINK=3

# Max session starts per hour
RATE_LIMIT_SESSION_START=10

# ============================================
# WebRTC Configuration
# ============================================

# Maximum reconnection attempts
WEBRTC_MAX_RECONNECTS=5

# Initial reconnection delay in ms
WEBRTC_RECONNECT_DELAY=1000

# Connection timeout in ms
WEBRTC_CONNECTION_TIMEOUT=30000

# ============================================
# Accessibility
# ============================================

# Default locale (en/es/ru)
PUBLIC_DEFAULT_LOCALE=en

# Enable high contrast mode option
FEATURE_HIGH_CONTRAST=false
